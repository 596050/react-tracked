!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("react"),require("scheduler"),require("proxy-compare")):"function"==typeof define&&define.amd?define(["exports","react","scheduler","proxy-compare"],r):r((e=e||self).reactTracked={},e.react,e.scheduler,e.proxyCompare)}(this,function(e,r,t,n){var u="undefined"==typeof window||/ServerSideRendering/.test(window.navigator&&window.navigator.userAgent)?r.useEffect:r.useLayoutEffect,o=function(e,n){return function(o){var c=r.useRef(new Set),a=n(o),i=a[0],f=a[1],s=r.useRef(i);u(function(){s.current=i,t.unstable_runWithPriority(t.unstable_NormalPriority,function(){c.current.forEach(function(e){return e()})})});var d=r.useCallback(function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.unstable_runWithPriority(t.unstable_UserBlockingPriority,function(){return f.apply(void 0,r)})},[f]),l=r.useMemo(function(){var e;return r.createMutableSource(((e={}).r=s,e.l=c,e),function(){return s.current})},[]),E=r.useMemo(function(){var e;return(e={}).s=l,e.u=d,e},[l,d]);return r.createElement(e.Provider,{value:E},o.children)}},c=function(e,r){var t=e.l.current;return t.add(r),function(){return t.delete(r)}},a=function(e){return r.useContext(e).u},i=n.MODE_ASSUME_UNCHANGED_IF_UNAFFECTED|n.MODE_ASSUME_UNCHANGED_IF_UNAFFECTED_IN_DEEP,f=n.MODE_IGNORE_REF_EQUALITY,s=n.MODE_ASSUME_UNCHANGED_IF_UNAFFECTED,d=function(e,t){void 0===t&&(t={});var o=r.useContext(e).s,a=new WeakMap,d=r.useRef(),l=r.useCallback(function(e){var r=e.r.current,t=d.current;return t?t.a!==a||t.s===r||n.isDeepChanged(t.s,r,t.a,t.c,t.d)?r:t.s:r},[a]),E=r.useMutableSource(o,l,c);u(function(){var e;d.current=((e={}).s=E,e.a=a,e.c=new WeakMap,e.d=t.unstable_forceUpdateForStateChange?0:t.unstable_ignoreIntermediateObjectUsage?i:t.unstable_ignoreStateEquality?f:s,e)}),"production"!==process.env.NODE_ENV&&function(e,t){var n=r.useRef();r.useEffect(function(){n.current=function(e,r){var t=[];return function e(n,u){var o=r.get(n);o?o.forEach(function(r){e(n[r],u?[].concat(u,[r]):[r])}):u&&t.push(u)}(e),t}(e,t)}),r.useDebugValue(n)}(E,a);var p=r.useRef(new WeakMap);return n.createDeepProxy(E,a,p.current)},l=function(e,t){var n=d(e,t),u=a(e);return r.useMemo(function(){return[n,u]},[n,u])},E=function(e,t){var n=r.useContext(e).s,u=r.useCallback(function(e){return t(e.r.current)},[t]);return r.useMutableSource(n,u,c)};Object.defineProperty(e,"getUntrackedObject",{enumerable:!0,get:function(){return n.getUntrackedObject}}),Object.defineProperty(e,"trackMemo",{enumerable:!0,get:function(){return n.trackMemo}}),e.createContainer=function(e){var t=r.createContext(new Proxy({},{get:function(){throw new Error("Please use <Provider>")}}));return{Provider:o(t,e),useTrackedState:function(e){return d(t,e)},useTracked:function(e){return l(t,e)},useUpdate:function(){return a(t)},useSelector:function(e){return E(t,e)}}},e.createProvider=o,e.useSelector=E,e.useTracked=l,e.useTrackedState=d,e.useUpdate=a});
//# sourceMappingURL=index.umd.js.map
