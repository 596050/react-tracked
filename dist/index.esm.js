import{useRef as r,useEffect as e,useDebugValue as n,useContext as t,useMemo as o,createContext as u,createElement as c,memo as a}from"react";import{useContext as i,createContext as f,wrapCallbackWithPriority as s}from"use-context-selector";export{createContext}from"use-context-selector";import{createDeepProxy as v,isDeepChanged as p,MODE_ASSUME_UNCHANGED_IF_UNAFFECTED as l,MODE_ASSUME_UNCHANGED_IF_UNAFFECTED_IN_DEEP as d,MODE_IGNORE_REF_EQUALITY as m,trackMemo as x}from"proxy-compare";export{getUntrackedObject}from"proxy-compare";var w=function(r){return t(r)},P=l|d,g=m,h=l,E=function(t,u){void 0===u&&(u={});var c=new WeakMap,a=r();e(function(){a.current=c});var f=u.unstable_forceUpdateForStateChange?0:u.unstable_ignoreIntermediateObjectUsage?P:u.unstable_ignoreStateEquality?g:h,s=o(function(){var r=null,e=new WeakMap;return function(n){return null!==r&&r!==n&&a.current&&!p(r,n,a.current,e,f)?r:(r=n,n)}},[f]),l=i(t,s);"production"!==process.env.NODE_ENV&&function(t,o){var u=r();e(function(){u.current=function(r,e){var n=[];return function r(t,o){var u=e.get(t);u?u.forEach(function(e){r(t[e],o?[].concat(o,[e]):[e])}):o&&n.push(o)}(r),n}(t,o)}),n(u.current)}(l,c);var d=o(function(){return new WeakMap},[]);return v(l,c,d)},b=function(r,e,n){var t=E(r,n),u=w(e);return o(function(){return[t,u]},[t,u])},k=function(r,e){var t=i(r,e);return n(t),t},y=new Proxy({},{get:function(){throw new Error("Please use <Provider>")},apply:function(){throw new Error("Please use <Provider>")}}),C=function(r){var e=f(y),n=u(y);return{Provider:function(t){var u=r(t),a=u[0],i=u[1],f=o(function(){return s(i)},[i]);return c(n.Provider,{value:f},c(e.Provider,{value:a},t.children))},useTrackedState:function(r){return E(e,r)},useTracked:function(r){return b(e,n,r)},useUpdate:function(){return w(n)},useSelector:function(r){return k(e,r)}}},O=function(r,e){return a(function(e){return Object.values(e).forEach(x),c(r,e)},e)};export{C as createContainer,O as memo,k as useSelector,b as useTracked,E as useTrackedState,w as useUpdate};
//# sourceMappingURL=index.esm.js.map
