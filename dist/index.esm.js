import{useLayoutEffect as r,useEffect as n,useRef as e,useDebugValue as t,useCallback as u,useMemo as o,createMutableSource as c,createElement as a,useContext as i,useMutableSource as f,createContext as v}from"react";import{unstable_runWithPriority as d,unstable_NormalPriority as s,unstable_UserBlockingPriority as p}from"scheduler";import{isDeepChanged as l,createDeepProxy as w,MODE_ASSUME_UNCHANGED_IF_UNAFFECTED as g,MODE_ASSUME_UNCHANGED_IF_UNAFFECTED_IN_DEEP as m,MODE_IGNORE_REF_EQUALITY as h}from"proxy-compare";export{getUntrackedObject,trackMemo}from"proxy-compare";var k="undefined"==typeof window||/ServerSideRendering/.test(window.navigator&&window.navigator.userAgent)?n:r,y=function(r,n){return function(t){var i=e(new Set),f=n(t),v=f[0],l=f[1],w=e(v);k(function(){w.current=v,d(s,function(){i.current.forEach(function(r){return r()})})});var g=u(function(){for(var r=arguments.length,n=new Array(r),e=0;e<r;e++)n[e]=arguments[e];return d(p,function(){return l.apply(void 0,n)})},[l]),m=o(function(){var r;return c(((r={}).r=w,r.l=i,r),function(){return w.current})},[]),h=o(function(){var r;return(r={}).s=m,r.u=g,r},[m,g]);return a(r.Provider,{value:h},t.children)}},S=function(r,n){var e=r.l.current;return e.add(n),function(){return e.delete(n)}},E=function(r){return i(r).u},b=g|m,x=h,P=g,M=function(r,o){void 0===o&&(o={});var c=i(r).s,a=new WeakMap,v=e(),d=u(function(r){var n=r.r.current,e=v.current;return!e||e.s!==n&&l(e.s,n,e.a,e.c,e.d)?n:e.s},[]),s=f(c,d,S);k(function(){var r;v.current=((r={}).s=s,r.a=a,r.c=new WeakMap,r.d=o.unstable_forceUpdateForStateChange?0:o.unstable_ignoreIntermediateObjectUsage?b:o.unstable_ignoreStateEquality?x:P,r)}),"production"!==process.env.NODE_ENV&&function(r,u){var o=e(null);n(function(){o.current=function(r,n){var e=[];return function r(t,u){var o=n.get(t);o?o.forEach(function(n){r(t[n],u?[].concat(u,[n]):[n])}):u&&e.push(u)}(r),e}(r,u)}),t(o)}(s,a);var p=e(new WeakMap);return w(s,a,p.current)},U=function(r,n){var e=M(r,n),t=E(r);return o(function(){return[e,t]},[e,t])},_=function(r,n){var e=i(r).s,t=u(function(r){return n(r.r.current)},[n]);return f(e,t,S)},O=function(r){var n=v(new Proxy({},{get:function(){throw new Error("Please use <Provider>")}}));return{Provider:y(n,r),useTrackedState:function(r){return M(n,r)},useTracked:function(r){return U(n,r)},useUpdate:function(){return E(n)},useSelector:function(r){return _(n,r)}}};export{O as createContainer,y as createProvider,_ as useSelector,U as useTracked,M as useTrackedState,E as useUpdate};
//# sourceMappingURL=index.esm.js.map
