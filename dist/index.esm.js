import{useRef as r,useEffect as n,useDebugValue as e,useLayoutEffect as t,useCallback as u,useMemo as o,createMutableSource as c,createElement as a,useContext as i,useMutableSource as f,createContext as v}from"react";import{unstable_runWithPriority as d,unstable_NormalPriority as p,unstable_UserBlockingPriority as s}from"scheduler";import{createDeepProxy as l,isDeepChanged as w,MODE_ASSUME_UNCHANGED_IF_UNAFFECTED as g,MODE_ASSUME_UNCHANGED_IF_UNAFFECTED_IN_DEEP as m,MODE_IGNORE_REF_EQUALITY as h}from"proxy-compare";export{getUntrackedObject,trackMemo}from"proxy-compare";var k="undefined"==typeof window||/ServerSideRendering/.test(window.navigator&&window.navigator.userAgent)?n:t,y=function(n,e){return function(t){var i=r(new Set),f=e(t),v=f[0],l=f[1],w=r(v);k(function(){w.current=v,d(p,function(){i.current.forEach(function(r){return r()})})});var g=u(function(){for(var r=arguments.length,n=new Array(r),e=0;e<r;e++)n[e]=arguments[e];return d(s,function(){return l.apply(void 0,n)})},[l]),m=o(function(){var r;return c(((r={}).r=w,r.l=i,r),function(){return w.current})},[]),h=o(function(){var r;return(r={}).s=m,r.u=g,r},[m,g]);return a(n.Provider,{value:h},t.children)}},S=function(r,n){var e=r.l.current;return e.add(n),function(){return e.delete(n)}},E=function(r){return i(r).u},b=g|m,x=h,P=g,M=function(t,u){void 0===u&&(u={});var c=i(t).s,a=new WeakMap,v=u.unstable_forceUpdateForStateChange?0:u.unstable_ignoreIntermediateObjectUsage?b:u.unstable_ignoreStateEquality?x:P,d=o(function(){var r=null,n=new WeakMap;return function(e){var t=e.r.current;return null===r||r===t||w(r,t,a,n,v)?(r=t,t):r}},[a,v]),p=f(c,d,S);"production"!==process.env.NODE_ENV&&function(t,u){var o=r();n(function(){o.current=function(r,n){var e=[];return function r(t,u){var o=n.get(t);o?o.forEach(function(n){r(t[n],u?[].concat(u,[n]):[n])}):u&&e.push(u)}(r),e}(t,u)}),e(o)}(p,a);var s=o(function(){return new WeakMap},[]);return l(p,a,s)},U=function(r,n){var e=M(r,n),t=E(r);return o(function(){return[e,t]},[e,t])},_=function(r,n){var e=i(r).s,t=u(function(r){return n(r.r.current)},[n]);return f(e,t,S)},O=function(r){var n=v(new Proxy({},{get:function(){throw new Error("Please use <Provider>")}}));return{Provider:y(n,r),useTrackedState:function(r){return M(n,r)},useTracked:function(r){return U(n,r)},useUpdate:function(){return E(n)},useSelector:function(r){return _(n,r)}}};export{O as createContainer,y as createProvider,_ as useSelector,U as useTracked,M as useTrackedState,E as useUpdate};
//# sourceMappingURL=index.esm.js.map
