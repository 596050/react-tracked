var e=require("react"),r=require("scheduler"),t=require("proxy-compare"),n="undefined"==typeof window||/ServerSideRendering/.test(window.navigator&&window.navigator.userAgent)?e.useEffect:e.useLayoutEffect,u=function(t,u){return function(o){var a=e.useRef(new Set),c=u(o),i=c[0],s=c[1],f=e.useRef(i);n(function(){f.current=i,r.unstable_runWithPriority(r.unstable_NormalPriority,function(){a.current.forEach(function(e){return e()})})});var l=e.useCallback(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.unstable_runWithPriority(r.unstable_UserBlockingPriority,function(){return s.apply(void 0,t)})},[s]),d=e.useMemo(function(){var r;return e.createMutableSource(((r={}).r=f,r.l=a,r),function(){return f.current})},[]),E=e.useMemo(function(){var e;return(e={}).s=d,e.u=l,e},[d,l]);return e.createElement(t.Provider,{value:E},o.children)}},o=function(e,r){var t=e.l.current;return t.add(r),function(){return t.delete(r)}},a=function(r){return e.useContext(r).u},c=t.MODE_ASSUME_UNCHANGED_IF_UNAFFECTED|t.MODE_ASSUME_UNCHANGED_IF_UNAFFECTED_IN_DEEP,i=t.MODE_IGNORE_REF_EQUALITY,s=t.MODE_ASSUME_UNCHANGED_IF_UNAFFECTED,f=function(r,u){void 0===u&&(u={});var a=e.useContext(r).s,f=new WeakMap,l=e.useRef(),d=e.useCallback(function(e){var r=e.r.current,n=l.current;return!n||n.s!==r&&t.isDeepChanged(n.s,r,n.a,n.c,n.d)?r:n.s},[]),E=e.useMutableSource(a,d,o);n(function(){var e;l.current=((e={}).s=E,e.a=f,e.c=new WeakMap,e.d=u.unstable_forceUpdateForStateChange?0:u.unstable_ignoreIntermediateObjectUsage?c:u.unstable_ignoreStateEquality?i:s,e)}),"production"!==process.env.NODE_ENV&&function(r,t){var n=e.useRef(null);e.useEffect(function(){n.current=function(e,r){var t=[];return function e(n,u){var o=r.get(n);o?o.forEach(function(r){e(n[r],u?[].concat(u,[r]):[r])}):u&&t.push(u)}(e),t}(r,t)}),e.useDebugValue(n)}(E,f);var v=e.useRef(new WeakMap);return t.createDeepProxy(E,f,v.current)},l=function(r,t){var n=f(r,t),u=a(r);return e.useMemo(function(){return[n,u]},[n,u])},d=function(r,t){var n=e.useContext(r).s,u=e.useCallback(function(e){return t(e.r.current)},[t]);return e.useMutableSource(n,u,o)};Object.defineProperty(exports,"getUntrackedObject",{enumerable:!0,get:function(){return t.getUntrackedObject}}),Object.defineProperty(exports,"trackMemo",{enumerable:!0,get:function(){return t.trackMemo}}),exports.createContainer=function(r){var t=e.createContext(new Proxy({},{get:function(){throw new Error("Please use <Provider>")}}));return{Provider:u(t,r),useTrackedState:function(e){return f(t,e)},useTracked:function(e){return l(t,e)},useUpdate:function(){return a(t)},useSelector:function(e){return d(t,e)}}},exports.createProvider=u,exports.useSelector=d,exports.useTracked=l,exports.useTrackedState=f,exports.useUpdate=a;
//# sourceMappingURL=index.js.map
